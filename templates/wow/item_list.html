{% extends "base.html" %}
{% load crispy_forms_filters %}

{% block content %}

  {% include 'includes/navigation.html' %}
{#  <h1>#}
{#    Items List#}
{#    </a>#}
{#  </h1>#}
{##}
{#  {% if item_list %}#}
{#    <table class="table">#}
{#      <tr>#}
{#        <th>ID</th>#}
{#        <th>Name</th>#}
{#        <th>Type</th>#}
{#        <th>Price</th>#}
{#      </tr>#}
{##}
{#      {% for item in item_list %}#}
{#        <tr>#}
{#          <td>#}
{#              {{ item.id }}#}
{#          </td>#}
{#          <td>#}
{#              <a href="{% url "wow:item-detail" pk=item.id %} ">{{ item.name }}</a>#}
{#          </td>#}
{#          <td>#}
{#              {{ item.type}}#}
{#          </td>#}
{#          <td>#}
{#              {{ item.price }}#}
{#          </td>#}
{#        </tr>#}
{#      {% endfor %}#}
{#    </table>#}
{##}
{#  {% else %}#}
{#      <p>There are no Items in the service.</p>#}
{#  {% endif %}#}

<div class="container mt-8">
    <div class="row flex-lg-nowrap">
      <div class="col mb-3">
        <div class="e-panel card">
          <div class="card-body">
            <div class="e-table">
              <div class="table-responsive table-lg mt-2">
                <table class="table table-striped">
                  <thead class="text-primary">
                    <tr class="text-center">
                      <th>#</th>
                      <th>Name</th>
                      <th>Type</th>
                      <th>Creation date</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                  {% for item in item_list %}
                    <tr>
                      <td class="text-nowrap align-middle text-center">{{ item.id }} </td>
                      <td class="text-nowrap align-middle">{{ item.name }} </td>
                      <td class="text-nowrap align-middle text-center">{{ item.type }}</td>
                      <td class="text-nowrap align-middle"><span>{{ item.created_at }}</span></td>
                      <td class="text-center align-middle">
                        {% if item.owner.id == user.id %}
                        <div class="btn-group mt-1">
                          <a href="{% url 'wow:item-update' pk=item.pk %}" class="btn btn-outline-secondary px-3">
                            Update
                          </a>
                          <a href="{% url 'wow:item-delete' pk=item.pk %}" class="btn btn-outline-primary px-3">
                            <i class="fa fa-trash"></i>
                          </a>
                        </div>
                        {% else %}
                        <div class="btn-group mt-1">
                          <a href="{% url 'wow:item-detail' pk=item.pk %}" class="btn btn-outline-secondary px-3">
                            Update
                          </a>
                        </div>
                        {% endif %}
                      </td>
                    </tr>
                  {% endfor %}
                  </tbody>
                </table>
              </div>
{#              <div class="d-flex justify-content-center">#}
{#                <ul class="pagination mt-3 mb-0">#}
{#                  <li class="disabled page-item"><a href="#" class="page-link">‹</a></li>#}
{#                  <li class="active page-item"><a href="#" class="page-link">1</a></li>#}
{#                  <li class="page-item"><a href="#" class="page-link">2</a></li>#}
{#                  <li class="page-item"><a href="#" class="page-link">3</a></li>#}
{#                  <li class="page-item"><a href="#" class="page-link">4</a></li>#}
{#                  <li class="page-item"><a href="#" class="page-link">5</a></li>#}
{#                  <li class="page-item"><a href="#" class="page-link">›</a></li>#}
{#                  <li class="page-item"><a href="#" class="page-link">»</a></li>#}
{#                </ul>#}
{#              </div>#}
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-lg-3 mb-3">
        <div class="card">
          <div class="card-body">
            <div class="text-center px-xl-3">
              <a href="{% url 'wow:item-create' %}" class="btn btn-outline-primary px-4">
                Create new item
              </a>
            </div>
            <hr class="my-3">
              <div class="form-group">
                <form action="" method="get" class="form-group">
                  <span class="badge bg-gradient-faded-dark mb-3">Search by type:</span>
                  {{ search_form.type|as_crispy_field }}
                  <hr class="my-3">
                  <span class="badge bg-gradient-faded-secondary mb-3">Search by name:</span>
                  {{ search_form.name|as_crispy_field }}
                  <hr class="my-3">
                  <span class="badge bg-gradient-faded-primary mb-3">Order by creation date:</span>
                  {{ search_form.created_at|as_crispy_field}}
                  <hr class="my-3">
                  {{ search_form.owner|as_crispy_field}}
                  <div class="text-center">
                  <input class="btn btn-primary" type="submit" value="Search">
                  </div>
                </form>
              </div>
          </div>
        </div>
      </div>
    </div>
  </div>

{% endblock %}
